<!-- Alerta -->
<div class="alert alert-warning d-flex align-items-center" role="alert">
  <mat-icon class="me-2">info</mat-icon>
  <div><strong>Ley de Probidad de la Función Pública</strong></div>
</div>

<div class="container mt-4">
  <div class="row g-4">
    <!-- Columna Izquierda -->
  
    <div class="col-md-8">
      <mat-card class="h-100">
        <div class="d-flex flex-column flex-md-row justify-content-between align-items-start align-items-md-center p-3">
          <!-- Perfil -->
          <div class="d-flex align-items-center mb-3 mb-md-0">
            <mat-icon class="bg-danger text-white rounded-circle p-3 me-3">person</mat-icon>
            <div>
              <div class="fw-bold">{{ nombreUsuario }}</div>
              <div class="text-primary small">
                <br>
                <ul>
                <li><a href="#" class="me-2">Editar perfil</a></li>
                <li> <a href="#" class="me-2">Mi administrador</a></li>
                <li> <a href="#">Cerrar sesión</a></li>
              </ul>
              </div>
            </div>
          </div>

          <!-- Botones -->
          <div class="d-flex flex-column gap-2 w-100 w-md-auto">
            <button mat-raised-button color="primary" (click)="openModalNuevaDeclaracion()" class="w-100 w-md-auto">
              <mat-icon class="me-1">add</mat-icon> Nueva Declaración
            </button>
            <button mat-raised-button color="primary" class="w-100 w-md-auto">
              <mat-icon class="me-1">play_arrow</mat-icon> Continuar declaración pendiente
            </button>
            <button mat-raised-button color="primary" class="w-100 w-md-auto">
              <mat-icon class="me-1">check_circle</mat-icon> Rectificar declaración
            </button>
          </div>
        </div>
      </mat-card>
    </div>

    <div class="col-md-4">
      <mat-card>
        <mat-card-header>
          
          <mat-card-title>
            <mat-icon >description</mat-icon>
            <h4 style="display: inline; padding-left: 10px !important;">Mis declaraciones</h4>
            
          </mat-card-title>
        </mat-card-header>
        <br>
        <mat-card-content>
          <h1 class="display-3 text-center mb-0">{{ declaraciones.totales }}</h1>
          <p class="text-center text-muted">Totales</p>
          <ul class="list-unstyled mt-3">
            <li>• {{ declaraciones.borradores }} Borradores</li>
            <li>• {{ declaraciones.enviadas }} Enviadas al jefe de servicio</li>
            <li>• {{ declaraciones.recepcionadas }} Recepcionadas por el organismo</li>
            <li>• {{ declaraciones.archivadas }} Archivadas</li>
          </ul>
        </mat-card-content>
      </mat-card>
    </div>
  </div>
</div>

<!-- MODAL NUEVA DECLARACION -->
<ng-template #nuevaDeclaracionModal let-dialogRef>
  <h2 mat-dialog-title>Nueva declaración</h2>
  <mat-dialog-content>
    <div class="d-grid gap-2 mt-2">
      <button mat-flat-button color="primary" class="text-start" (click)="crearNuevaDeclaracion(dialogRef)">
        Nueva declaración
        <mat-icon class="float-end">chevron_right</mat-icon>
      </button>

      <button mat-stroked-button color="primary" class="text-start" (click)="crearConDatosAnteriores(dialogRef)">
        Nueva declaración con datos usados anteriormente
        <mat-icon class="float-end">chevron_right</mat-icon>
      </button>
    </div>
  </mat-dialog-content>
</ng-template>
